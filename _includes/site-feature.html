{% assign feature_text = page.feature_text %}
{% assign feature_image = page.feature_image %}
{% if page.collectionpage %}
  {% assign collectiondata = site.collections | where: "label", page.collectionpage | first %}
  {% assign feature_text = collectiondata.feature_text %}
  {% assign feature_image = collectiondata.feature_image %}
{% endif %}

{% if feature_text or feature_image %}
  <div class="feature"{% if feature_image %} style="background-image: url({{ feature_image }})"{% endif %}>
    <div class="container typeset">
      <div class="typing-effect typing-text">
        {{ feature_text | markdownify }}
      </div>
    </div>
  </div>
{% endif %}

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const textElement = document.querySelector('.typing-text');
    const text = textElement.textContent.trim();
    textElement.textContent = '';
  
    let index = 0;
  
    function type() {
      if (index < text.length) {
        textElement.textContent += text.charAt(index);
        index++;
        setTimeout(type, 100); // Adjust the speed here (in milliseconds)
      }
    }
  
    type();
  });
  </script>
  
